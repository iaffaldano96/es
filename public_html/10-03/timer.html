<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Timer</title>
        <script src="jquery-3.1.1.min.js" type="text/javascript"></script>
        <link href="stili_timer.css" rel="stylesheet" type="text/css"/>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div id="div1"></div><br><br>
        <input type="button" id="pul" value="ATTIVA">
        <br><br>
        <input type="button" id="pul2" value="ATTIVA CONTRASTO">
        <br><br>
        <input type="button" id="pul3" value="STOP">

        <script>

            var conta = 1;
            $("#div1").html("<br>Ciao come  stai?");

            $("#pul").click(function () {
                setTimeout(function () {
                    $("#div1").css({
                        "color": "yellow",
                        "background-color": "red",
                        "font-size": "30px",
                        "transition": "1s"
                    });
                }, 500);
            });

            var bia = 255;
            var ne = 0;
            var direCre = true;
            function rgb(r, g, b) {
                return "rgb(" + r + "," + g + "," + b + ")";
            }
            
            var idTimer=0;
            $("#pul2").click(function () {
                idTimer= setInterval(function () {
                    conta++;                   
                    $("#div1").html("<br> Contatore: " + conta);
                    
                    if (bia == 0){
                      direCre=false;   
                    }
                    if (bia >255){
                      direCre=true;   
                    }
                    if(direCre){
                        bia--;
                        ne++;
                    }else{
                        bia++;
                        ne--;
                    }   
                    
                    $("#div1").css("background-color", rgb(bia, bia, bia));
                    $("#div1").css("color", rgb(ne, ne, ne));                    
                }, 40);
                 $(this).attr("disabled","disabled");
            });
            
            $("#pul3").click(function () {
                                $("#pul2").removeAttr("disabled");
                                clearInterval(idTimer);
                            });
            
        </script>

    </body>
</html>
